;{{ ansible_managed }}
; Configuration from Icingaweb2 version 2.6.2-1

[icingaweb_db]
type = "db"
db = "mysql"
host = "{{ icinga2_web_icingaweb2_database_host }}"
port = "{{ icinga2_web_icingaweb2_database_port }}"
dbname = "{{ icinga2_web_icingaweb2_database_name }}"
username = "{{ icinga2_web_icingaweb2_database_user }}"
password = "{{ icinga2_web_icingaweb2_database_pass }}"
charset = "utf8"
use_ssl = "{{ icinga2_web_icingaweb2_database_ssl }}"
ssl_ca = "{{ icinga2_web_icingaweb2_database_ssl_ca }}"

[icinga_ido]
type = "db"
db = "mysql"
host = "{{ icinga2_web_icinga2_database_host }}"
port = "{{ icinga2_web_icinga2_database_port }}"
dbname = "{{ icinga2_web_icinga2_database_name }}"
username = "{{ icinga2_web_icinga2_database_user }}"
password = "{{ icinga2_web_icinga2_database_pass }}"
charset = "utf8"
use_ssl = "{{ icinga2_web_icinga2_database_ssl }}"
ssl_ca = "{{ icinga2_web_icinga2_database_ssl_ca }}"

{% for resourceconf in icinga2_web_ldap %}
[{{ resourceconf.name }}]
type = "ldap"
hostname = "{{ resourceconf.host }}"
port = "{{ resourceconf.port }}"
encryption = "{{ resourceconf.encryption }}"
root_dn = "{{ resourceconf.root_dn }}"
bind_dn = "{{ resourceconf.bind_dn }}"
bind_pw = "{{ resourceconf.bind_pw }}"
timeout = "{{ resourceconf.timeout }}"
{% endfor %}

{% for resourceconf in icinga2_web_director %}
[{{ resourceconf.name }}]
type = "db"
db = "{{ resourceconf.db }}"
host = "{{ resourceconf.host }}"
port = "{{ resourceconf.port }}"
dbname = "{{ resourceconf.dbname }}"
username = "{{ resourceconf.username }}"
password = "{{ resourceconf.password }}"
charset = "{{ resourceconf.charset }}"
use_ssl = "{{ resourceconf.use_ssl }}"
ssl_ca = "{{ resourceconf.ssl_ca }}"
{% endfor %}

{% for resourceconf in icinga2_web_reporting %}
[{{ resourceconf.name }}]
type = "db"
db = "{{ resourceconf.db }}"
host = "{{ resourceconf.host }}"
port = "{{ resourceconf.port }}"
dbname = "{{ resourceconf.dbname }}"
username = "{{ resourceconf.username }}"
password = "{{ resourceconf.password }}"
charset = "{{ resourceconf.charset }}"
use_ssl = "{{ resourceconf.use_ssl }}"
ssl_ca = "{{ resourceconf.ssl_ca }}"
{% endfor %}

{% for resourceconf in icinga2_web_icingadb %}
[{{ resourceconf.name }}]
type = "db"
db = "{{ resourceconf.db }}"
host = "{{ resourceconf.host }}"
port = "{{ resourceconf.port }}"
dbname = "{{ resourceconf.dbname }}"
username = "{{ resourceconf.username }}"
password = "{{ resourceconf.password }}"
charset = "{{ resourceconf.charset }}"
use_ssl = "{{ resourceconf.use_ssl }}"
ssl_ca = "{{ resourceconf.ssl_ca }}"
{% endfor %}
